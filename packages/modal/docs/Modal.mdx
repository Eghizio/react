import { Modal } from '../src';
import { Button } from '../../button/src';
import { Checkbox } from '../../checkbox/src';
import packageData from '../package.json';

# Modal

Modals are dialogs for contextual information, tasks, or workflows that appear
over the user interface.

<PackageInfo packageData={packageData} componentNames={['Modal']} />

## Example

```jsx example
function Example() {
    const [open, setOpen] = React.useState(false);
    const [left, setLeft] = React.useState(true);
    const [height, setHeight] = React.useState('68%');

    const toggleModal = () => setOpen(!open);

    return (
        <>
            <Button utility onClick={toggleModal}>
                Open modal
            </Button>

            <Modal
                title="Hello title"
                left={left}
                right
                open={open}
                onDismiss={toggleModal}
                style={{
                    '--f-modal-max-height': height,
                    '--f-modal-height': '100%',
                }}
                footer={
                    <Button primary onClick={toggleModal}>
                        Confirm
                    </Button>
                }
            >
                <div className="space-x-8">
                    <button
                        onClick={() =>
                            setHeight(height === '68%' ? '100%' : '68%')
                        }
                        className="button button--utility button--small mb-32"
                    >
                        Modify height
                    </button>
                    <button
                        onClick={() => setLeft(!left)}
                        className="button button--utility button--small mb-32"
                    >
                        Toggle the back-button
                    </button>
                </div>
                <div>
                    <h1 className="h4 mb-16">
                        This is a title for the content area
                    </h1>
                    <p>
                        Life as a shorty shouldn't be so rough. Behold the bold
                        soldier control the globe slowly, proceeds to blow,
                        swinging swords like Shinobi. The game of chess, is like
                        a swordfight, you must think first before you move. My
                        beats travel like a vortex through your spine, to the
                        top of your cerebral cortex. I smoke on the mic like
                        smoking Joe Frazier, the hell raiser, raising hell with
                        the flavor.
                    </p>
                    <p>
                        I breaks it down to the bone gristle, Ill speaking Scud
                        missile heat seeking, Johnny Blazing. Protect Ya Neck,
                        my sword still remain imperial before I blast the mic,
                        RZA scratch off the serial. Shackling the masses with
                        drastic rap tactics, graphic displays melt the steel
                        like blacksmiths. Perpendicular to the square we stay in
                        gold like Flair, escape from your dragon's lair in
                        particular. Shame on you when you stepped through to The
                        Ol Dirty Bastard straight from the Brooklyn Zoo. Protect
                        Ya Neck, my sword still remain imperial before I blast
                        the mic, RZA scratch off the serial.
                    </p>
                    <p>
                        Life as a shorty shouldn't be so rough. Handcuffed in
                        the back of a bus, forty of us. Rae got it going on pal,
                        call me the rap assassinator, rhymes rugged and built
                        like Schwarzenegger. My beats travel like a vortex
                        through your spine, to the top of your cerebral cortex.
                        Life as a shorty shouldn't be so rough. Well I'm a sire,
                        I set the microphone on fire, rap styles vary and carry
                        like Mariah.
                    </p>
                    <p>
                        Life as a shorty shouldn't be so rough. Small change,
                        they putting shame in the game. My beats travel like a
                        vortex through your spine, to the top of your cerebral
                        cortex. Shame on you when you stepped through to The Ol
                        Dirty Bastard straight from the Brooklyn Zoo. I come
                        rough, tough like an Elephant tusk. I bomb atomically
                        Socrates' philosophies and hypothesis can't define how I
                        be dropping these mockeries. The rebel, I make more
                        noise than heavy metal. Cash rules everything around me,
                        dollar dollar bill, ya'll. If what you say is true, the
                        Shaolin and the Wu-Tang could be dangerous.
                    </p>
                    <p>
                        Perpendicular to the square we stay in gold like Flair,
                        escape from your dragon's lair in particular. The game
                        of chess, is like a swordfight, you must think first
                        before you move. Leave it up to me while I be livin'
                        proof I smoke on the mic like smoking Joe Frazier, the
                        hell raiser, raising hell with the flavor. Step through
                        your section with the Force like Luke Skywalker, rhyme
                        author, orchestrate mind torture. Feeling mad hostile,
                        ran the apostle, flowing like Christ when I speak the
                        gospel. Well I'm a sire, I set the microphone on fire,
                        rap styles vary and carry like Mariah. I grew up on the
                        crime side, the New York Times side, Stayin' alive was
                        no jive.
                    </p>
                </div>
            </Modal>
        </>
    );
}
```

## Content

Fabric guidelines state the following:

-   Don't add a close button (`X`) in the top right corner.
-   The cancel action should always be on the left, while the main action is to
    the right.

## Non dismissable modals

The `onDismiss` prop is optional. It can be dropped to create a modal that won't
respond to <kbd>esc</kbd> keypresses and/or clicking outside the modal.

```jsx example
function Example() {
    const [isOpen, setIsOpen] = React.useState(false);
    const [hasAgreed, setHasAgreed] = React.useState(false);

    const handleOpen = () => setIsOpen(true);
    const handleClose = () => setIsOpen(false);

    return (
        <>
            <Button onClick={handleOpen}>Open modal</Button>

            <Modal
                isOpen={isOpen}
                onDismiss={hasAgreed ? handleClose : undefined}
            >
                <ModalContent>
                    <ModalHeading>Non dismissable</ModalHeading>
                    <p>To go further, you need to agree to these bogus terms</p>
                    <Checkbox
                        checked={hasAgreed}
                        onChange={(e) => setHasAgreed(e.target.checked)}
                    >
                        I agree
                    </Checkbox>
                </ModalContent>
                <ModalFooter>
                    <Button primary disabled={!hasAgreed} onClick={handleClose}>
                        Save
                    </Button>
                </ModalFooter>
            </Modal>
        </>
    );
}
```

## Accessibility

Modal needs either `aria-label` or `aria-labelledby` to be accessible to screen
readers. Most likely you'll have some kind of primary heading for the modal. In
that case, you can use `ModalHeading`. It automatically connects the heading to
the dialog.

### Customizing focus behavior

By default the first interactive element in the modal will be focused when the
modal opens. Use `initialFocusRef` to customize this behavior. For instance,
this can be used to focus a call to action button.

```jsx example
function Example() {
    const [isOpen, setIsOpen] = React.useState(false);
    const focusRef = React.useRef();

    return (
        <>
            <Button onClick={() => setIsOpen(true)}>Open modal</Button>
            <Modal isOpen={isOpen} initialFocusRef={focusRef}>
                <ModalContent>
                    <ModalHeading>Customized focus behavior</ModalHeading>
                    <p>The call to action button has inital focus.</p>
                </ModalContent>
                <ModalFooter>
                    <Button onClick={() => setIsOpen(false)}>Cancel</Button>
                    <Button
                        primary
                        ref={focusRef}
                        onClick={() => setIsOpen(false)}
                    >
                        Accept
                    </Button>
                </ModalFooter>
            </Modal>
        </>
    );
}
```

## Modal Props

```props packages/modal/src/component.tsx

```
